.. include:: /Includes.rst.txt

==========================
TYPO3 Exception 1365779762
==========================

.. note::
If you encountered this exception, please help others by providing
information about how you got this error. Especially if you have a solution,
please add it to this page by following the :ref:`"Edit on GitHub" workflow
<docs-contribute-github-method>`!

Trying to fetch data from a repository and get this error :

**(1/1) #1365779762
TYPO3\CMS\Extbase\Persistence\Generic\Exception\InconsistentQuerySettingsException**
Missing storage page ids.

This error appears because you set some specific query settings, like
$querySettings->setIgnoreEnableFields(true) and use generic
Typo3QuerySettings, because this is a generic object, it knows nothing
about the plugin context so, instead of using a generic object, use a
$this->createQuery()->getQuerySettings() and then the pid set in
Flexform or in TypoScript will be set.

This generate an error :

::

      public function initializeObject()
      {
          /** @var \TYPO3\CMS\Extbase\Persistence\Generic\Typo3QuerySettings $querySettings */
          $querySettings = $this->objectManager->get(\TYPO3\CMS\Extbase\Persistence\Generic\Typo3QuerySettings::class);
          $querySettings->setIgnoreEnableFields(true);
          $querySettings->setEnableFieldsToBeIgnored(['fe_group']);
          $this->setDefaultQuerySettings($querySettings);
      }
      

This one is ok :

::

      public function initializeObject()
      {
          /** @var \TYPO3\CMS\Extbase\Persistence\Generic\Typo3QuerySettings $querySettings */
          $querySettings = $this->createQuery()->getQuerySettings();
          $querySettings->setIgnoreEnableFields(true);
          $querySettings->setEnableFieldsToBeIgnored(['fe_group']);
          $this->setDefaultQuerySettings($querySettings);
      }
